@(request: play.api.mvc.Request[Any])

@import helper._
@import helper.twitterBootstrap._

@main("mplayer") {
	<div class="pull-right" style="padding-right:5px;">
		<small>Logged in as @request.session.get("username")</small>
		<small><a href="/logout">Logout</a></small>
	</div>
	<div id="jplayer"></div>
	<div id="jp_container_1">
		<div class="pull-left" style="padding-right:5px;">
			<a href="#" class="btn btn-success btn-mini jp-play">&#9658;</a>
			<a href="#" class="btn btn-success btn-mini jp-pause">| |</a>
		</div>
		<div class="pull-left" style="padding-right:5px;">
			<p id="nowplaying"></p>
		</div>
		<div class="pull-right" style="padding-right:20px;">
			<input type="text" class="span2" id="volume" data-slider-min="0" data-slider-max="100" data-slider-value="50" data-slider-tooltip="hide" data-slider-id="volume">
		</div>
	</div>
	<br><br>

	<div id="tabsholder" style="height:35%;">
		<ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
	        <li class="active"><a href="#genres" data-toggle="tab">Genres</a></li>
	        <li><a href="#artists" data-toggle="tab">Artists</a></li>
	        <li><a href="#albums" data-toggle="tab">Albums</a></li>
	    </ul>
	    <div id="my-tab-content" class="tab-content" style="overflow:auto;max-height:95%;">
	        <div class="tab-pane active" id="genres">
	            <table class="table table-hover table-condensed table-striped" id="genrestable"></table>
	        </div>
	        <div class="tab-pane" id="artists">
	            <table class="table table-hover table-condensed table-striped" id="artiststable"><th>Nothing to show</th></table>
	        </div>
	        <div class="tab-pane" id="albums">
	            <table class="table table-hover table-condensed table-striped" id="albumstable"><th>Nothing to show</th></table>
	        </div>
	    </div>
	</div>
	<hr>
	<div id="tracksholder" style="height:58%;">
		<b>Playlist</b>
		<table id="trackstable" class="table table-hover table-condensed table-striped">
			<th>Nothing to show</th>
		</table>
	</div>

	<script type="text/javascript">
	    $(document).ready(function(){
	        $("#jplayer").jPlayer({
	            ready: function () {
	                $(this).jPlayer("setMedia", {
	                    mp3: "/get?id=1"
	                });
	            },
	            swfPath: "/js",
	            supplied: "mp3"
	        });

	        $('#volume').slider({
	            formater: function(value) {
	                $("#jplayer").jPlayer("volume", value/100);
	                return 'Volume: ' + value;
	            }
	        });

	        $("#jplayer").bind($.jPlayer.event.ended, function(event) {
	        	console.log("song ended");
	    	});

	        $("#tabs").tab();
	        fillGenres();
	    });
    </script>
}
